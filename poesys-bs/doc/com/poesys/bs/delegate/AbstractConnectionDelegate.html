<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Thu Jan 05 14:01:16 PST 2012 -->
<TITLE>
AbstractConnectionDelegate
</TITLE>

<META NAME="date" CONTENT="2012-01-05">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractConnectionDelegate";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractConnectionDelegate.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/poesys/bs/delegate/AbstractDaoDelegate.html" title="class in com.poesys.bs.delegate"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/poesys/bs/delegate/AbstractConnectionDelegate.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractConnectionDelegate.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.poesys.bs.delegate</FONT>
<BR>
Class AbstractConnectionDelegate</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.poesys.bs.delegate.AbstractConnectionDelegate</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/poesys/bs/delegate/AbstractDaoDelegate.html" title="class in com.poesys.bs.delegate">AbstractDaoDelegate</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>AbstractConnectionDelegate</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<p>
 An abstract base class for the business delegates in the application that
 require a database connection and managed transactions. This abstract class
 requires classes that support getting and closing a database connection and
 managing transactions with commit and rollback. It has no further methods and
 so is useful in situations where you need a database connection and
 transactions but you don't want the standard DTO-oriented API.
 </p>
 <p>
 The primary goal of the Data Delegate is to proxy the business-level services
 based on database access for the presentation layer.
 </p>
 <p>
 The concrete subclass implements the abstract methods, most of which create
 the appropriate SQL objects and the DAOs that use them. The code examples in
 this documentation show a simple implementation with direct instantiation of
 classes. You can achieve more sophisticated goals by implementing DAO and/or
 SQL class factories, then using the factories to implement the abstract
 methods in this class. This kind of approach, for example, would let you
 support different SQL statements for different DBMS implementations of the
 application, with the SQL statement factory generating the appropriate SQL
 statements based on the identification of the DBMS. You could also add a
 factory method that generates the delegate object by passing in the
 appropriate DBMS identification to the constructor.
 </p>
 <p>
 <em>
 Note: You should log exceptions at the top of the calling hierarchy in the
 user interface layer that uses these business delegates, not in the business
 delegate itself. The error messages defined in business delegates should be
 message strings installed in a resource bundle for internationalization. Your
 business delegate class should throw only a DelegateException that nests the
 causing exception, if any.
 </em>
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Robert J. Muller</DD>
<DT><B>See Also:</B><DD><A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate"><CODE>DelegateException</CODE></A>, 
<A HREF="../../../../com/poesys/bs/dto/AbstractDto.html" title="class in com.poesys.bs.dto"><CODE>AbstractDto</CODE></A>, 
<CODE>AbstractDto</CODE>, 
<CODE>IPrimaryKey</CODE></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#CLOSE_CONNECTION">CLOSE_CONNECTION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error message on closing a connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#COMMIT">COMMIT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error message on committing a connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;com.poesys.db.connection.IConnectionFactory.DBMS</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#dbms">dbms</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The type of the database for the subsystem</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;com.poesys.db.connection.IConnectionFactory</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#factory">factory</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The connection factory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;org.apache.log4j.Logger</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#logger">logger</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Log4j logger for the class</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#NO_CONNECTION">NO_CONNECTION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error message on getting a connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#ROLLBACK">ROLLBACK</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Error message on rolling back a connection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#subsystem">subsystem</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the subsystem, for use in the resource bundle containing JDBC
 parameters</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#AbstractConnectionDelegate(java.lang.String)">AbstractConnectionDelegate</A></B>(java.lang.String&nbsp;subsystem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a connection delegate by getting the target DBMS and password from
 the properties file for the subsystem.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#AbstractConnectionDelegate(java.lang.String, com.poesys.db.connection.IConnectionFactory.DBMS)">AbstractConnectionDelegate</A></B>(java.lang.String&nbsp;subsystem,
                           com.poesys.db.connection.IConnectionFactory.DBMS&nbsp;dbms)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Standard constructor that sets the name of the subsystem and the database
 type for construction of connections to the database.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#clearTemporaryCaches()">clearTemporaryCaches</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clear any temporary caches from memory.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#close(java.sql.Connection)">close</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Close a connection and handle any exceptions from the attempt.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#commit(java.sql.Connection)">commit</A></B>(java.sql.Connection&nbsp;connection)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commit a connection, handling any exceptions from commit processing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#createFactory()">createFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the connection factory for the delegate to use.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#flush()">flush</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flush all resources associated with connections.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#flush(com.poesys.db.dto.IDbDto)">flush</A></B>(com.poesys.db.dto.IDbDto&nbsp;dto)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flush a specific DTO from the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.sql.Connection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#getConnection()">getConnection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;com.poesys.db.connection.IConnectionFactory</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#getFactory()">getFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the connection factory for use in lazy loading.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/poesys/bs/delegate/AbstractConnectionDelegate.html#rollBack(java.sql.Connection, java.lang.String, java.lang.Throwable)">rollBack</A></B>(java.sql.Connection&nbsp;connection,
         java.lang.String&nbsp;key,
         java.lang.Throwable&nbsp;e)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Roll back a transaction, then throw a delegate exception that encapsulates
 the exception that caused the rollback.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="logger"><!-- --></A><H3>
logger</H3>
<PRE>
org.apache.log4j.Logger <B>logger</B></PRE>
<DL>
<DD>Log4j logger for the class
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="CLOSE_CONNECTION"><!-- --></A><H3>
CLOSE_CONNECTION</H3>
<PRE>
protected static final java.lang.String <B>CLOSE_CONNECTION</B></PRE>
<DL>
<DD>Error message on closing a connection
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.poesys.bs.delegate.AbstractConnectionDelegate.CLOSE_CONNECTION">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="NO_CONNECTION"><!-- --></A><H3>
NO_CONNECTION</H3>
<PRE>
protected static final java.lang.String <B>NO_CONNECTION</B></PRE>
<DL>
<DD>Error message on getting a connection
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.poesys.bs.delegate.AbstractConnectionDelegate.NO_CONNECTION">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ROLLBACK"><!-- --></A><H3>
ROLLBACK</H3>
<PRE>
protected static final java.lang.String <B>ROLLBACK</B></PRE>
<DL>
<DD>Error message on rolling back a connection
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.poesys.bs.delegate.AbstractConnectionDelegate.ROLLBACK">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="COMMIT"><!-- --></A><H3>
COMMIT</H3>
<PRE>
protected static final java.lang.String <B>COMMIT</B></PRE>
<DL>
<DD>Error message on committing a connection
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#com.poesys.bs.delegate.AbstractConnectionDelegate.COMMIT">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="subsystem"><!-- --></A><H3>
subsystem</H3>
<PRE>
protected java.lang.String <B>subsystem</B></PRE>
<DL>
<DD>The name of the subsystem, for use in the resource bundle containing JDBC
 parameters
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="dbms"><!-- --></A><H3>
dbms</H3>
<PRE>
protected com.poesys.db.connection.IConnectionFactory.DBMS <B>dbms</B></PRE>
<DL>
<DD>The type of the database for the subsystem
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="factory"><!-- --></A><H3>
factory</H3>
<PRE>
private com.poesys.db.connection.IConnectionFactory <B>factory</B></PRE>
<DL>
<DD>The connection factory
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AbstractConnectionDelegate(java.lang.String, com.poesys.db.connection.IConnectionFactory.DBMS)"><!-- --></A><H3>
AbstractConnectionDelegate</H3>
<PRE>
public <B>AbstractConnectionDelegate</B>(java.lang.String&nbsp;subsystem,
                                  com.poesys.db.connection.IConnectionFactory.DBMS&nbsp;dbms)</PRE>
<DL>
<DD>Standard constructor that sets the name of the subsystem and the database
 type for construction of connections to the database. A common use for this
 constructor is to supply JNDI as the dbms when you are executing within an
 application server container.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>subsystem</CODE> - the name of the subsystem<DD><CODE>dbms</CODE> - the kind of database that implements the subsystem</DL>
</DL>
<HR>

<A NAME="AbstractConnectionDelegate(java.lang.String)"><!-- --></A><H3>
AbstractConnectionDelegate</H3>
<PRE>
public <B>AbstractConnectionDelegate</B>(java.lang.String&nbsp;subsystem)</PRE>
<DL>
<DD>Create a connection delegate by getting the target DBMS and password from
 the properties file for the subsystem. The most common use for this
 constructor is when you are executing standalone, such as in a JUnit
 testing environment or a standalone application.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>subsystem</CODE> - the data source subsystem</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createFactory()"><!-- --></A><H3>
createFactory</H3>
<PRE>
private void <B>createFactory</B>()</PRE>
<DL>
<DD>Get the connection factory for the delegate to use.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getConnection()"><!-- --></A><H3>
getConnection</H3>
<PRE>
protected java.sql.Connection <B>getConnection</B>()
                                     throws <A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate">DelegateException</A></PRE>
<DL>
<DD>Get a connection.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>an open connection to the database
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate">DelegateException</A></CODE> - when the connection factory does not return a
           connection</DL>
</DD>
</DL>
<HR>

<A NAME="flush()"><!-- --></A><H3>
flush</H3>
<PRE>
public void <B>flush</B>()
           throws com.poesys.db.connection.ConnectionException</PRE>
<DL>
<DD>Flush all resources associated with connections. This will close all
 connections and any connection pool associated with the application and
 will flush any temporary caches.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>com.poesys.db.connection.ConnectionException</CODE> - when there is a problem releasing resources</DL>
</DD>
</DL>
<HR>

<A NAME="flush(com.poesys.db.dto.IDbDto)"><!-- --></A><H3>
flush</H3>
<PRE>
public void <B>flush</B>(com.poesys.db.dto.IDbDto&nbsp;dto)</PRE>
<DL>
<DD>Flush a specific DTO from the cache.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dto</CODE> - the DTO to flush</DL>
</DD>
</DL>
<HR>

<A NAME="clearTemporaryCaches()"><!-- --></A><H3>
clearTemporaryCaches</H3>
<PRE>
private void <B>clearTemporaryCaches</B>()</PRE>
<DL>
<DD>Clear any temporary caches from memory.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getFactory()"><!-- --></A><H3>
getFactory</H3>
<PRE>
protected com.poesys.db.connection.IConnectionFactory <B>getFactory</B>()</PRE>
<DL>
<DD>Get the connection factory for use in lazy loading.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a connection factory</DL>
</DD>
</DL>
<HR>

<A NAME="commit(java.sql.Connection)"><!-- --></A><H3>
commit</H3>
<PRE>
protected void <B>commit</B>(java.sql.Connection&nbsp;connection)
               throws <A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate">DelegateException</A></PRE>
<DL>
<DD>Commit a connection, handling any exceptions from commit processing.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - the connection to commit
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate">DelegateException</A></CODE> - when commit results in a SQL exception</DL>
</DD>
</DL>
<HR>

<A NAME="rollBack(java.sql.Connection, java.lang.String, java.lang.Throwable)"><!-- --></A><H3>
rollBack</H3>
<PRE>
protected void <B>rollBack</B>(java.sql.Connection&nbsp;connection,
                        java.lang.String&nbsp;key,
                        java.lang.Throwable&nbsp;e)
                 throws <A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate">DelegateException</A></PRE>
<DL>
<DD>Roll back a transaction, then throw a delegate exception that encapsulates
 the exception that caused the rollback.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - the open connection to roll back<DD><CODE>key</CODE> - the bundle key for the error message<DD><CODE>e</CODE> - the exception that resulted in the rollback
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate">DelegateException</A></CODE> - always, either with the passed exception
           encapsulated or with a rollback-problem exception, if there was a
           problem rolling back</DL>
</DD>
</DL>
<HR>

<A NAME="close(java.sql.Connection)"><!-- --></A><H3>
close</H3>
<PRE>
protected void <B>close</B>(java.sql.Connection&nbsp;connection)
              throws <A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate">DelegateException</A></PRE>
<DL>
<DD>Close a connection and handle any exceptions from the attempt.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - the open connection to close
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/poesys/bs/delegate/DelegateException.html" title="class in com.poesys.bs.delegate">DelegateException</A></CODE> - when there is a problem closing the connection</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/AbstractConnectionDelegate.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/poesys/bs/delegate/AbstractDaoDelegate.html" title="class in com.poesys.bs.delegate"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/poesys/bs/delegate/AbstractConnectionDelegate.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AbstractConnectionDelegate.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
